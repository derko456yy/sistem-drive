<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SYSTEM_DRIVE</title>
    <style>
        :root { --neon-cyan: #00f3ff; --dark-bg: #050505; }
        body { font-family: 'Courier New', monospace; background-color: var(--dark-bg); color: var(--neon-cyan); display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; margin: 0; overflow: hidden; position: relative; }
        .stars-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2; background: radial-gradient(ellipse at bottom, #1B2735 0%, #090A0F 100%); overflow: hidden; }
        .star { position: absolute; background: white; border-radius: 50%; animation: twinkle var(--duration) linear infinite; opacity: 0; }
        @keyframes twinkle { 0% { opacity: 0; transform: translateY(0); } 50% { opacity: 1; } 100% { opacity: 0; transform: translateY(-100px); } }
        .cyber-planet-container { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 500px; height: 500px; z-index: -1; pointer-events: none; display: flex; justify-content: center; align-items: center; opacity: 0.4; }
        .cyber-planet { width: 100%; height: 100%; border-radius: 50%; background: radial-gradient(circle at 30% 30%, rgba(0, 243, 255, 0.05), transparent 70%), linear-gradient(rgba(0, 243, 255, 0.2) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 243, 255, 0.2) 1px, transparent 1px); background-size: 100% 100%, 40px 40px, 40px 40px; box-shadow: inset 0 0 60px rgba(0, 243, 255, 0.3), 0 0 20px rgba(0, 243, 255, 0.2); border: 1px solid rgba(0, 243, 255, 0.3); animation: planetRotate 20s linear infinite; }
        @keyframes planetRotate { 0% { background-position: 0 0, 0 0, 0 0; transform: rotate(0deg); } 100% { background-position: 0 0, 40px 40px, 40px 40px; transform: rotate(360deg); } }
        .container { width: 100%; max-width: 800px; background: rgba(10, 15, 20, 0.6); backdrop-filter: blur(5px); padding: 40px; border-radius: 12px; border: 1px solid rgba(0, 243, 255, 0.2); box-shadow: 0 0 20px rgba(0, 243, 255, 0.1); }
        h2 { text-align: center; color: var(--neon-cyan); letter-spacing: 5px; margin-bottom: 30px; text-shadow: 0 0 10px rgba(0, 243, 255, 0.8); font-weight: normal; }
        .input-group { display: flex; gap: 15px; justify-content: center; }
        input[type="text"] { flex-grow: 1; padding: 15px; background: rgba(0, 0, 0, 0.5); border: 1px solid #333; color: var(--neon-cyan); border-radius: 4px; outline: none; font-family: inherit; }
        input[type="text"]:focus { border-color: var(--neon-cyan); box-shadow: 0 0 10px rgba(0, 243, 255, 0.2); }
        button { padding: 15px 30px; background: transparent; color: var(--neon-cyan); border: 1px solid var(--neon-cyan); border-radius: 4px; cursor: pointer; font-family: inherit; font-weight: bold; transition: 0.3s; }
        button:hover { background: rgba(0, 243, 255, 0.1); box-shadow: 0 0 15px var(--neon-cyan); }
        #playerArea { margin-top: 30px; display: none; border: 1px solid var(--neon-cyan); box-shadow: 0 0 20px rgba(0, 243, 255, 0.2); background: black; position: relative; }
        video, iframe { width: 100%; display: block; max-height: 60vh; border:none; }
        .copy-btn { position: absolute; top: 10px; right: 10px; z-index: 10; background: black; border: 1px solid var(--neon-cyan); color: var(--neon-cyan); padding: 5px 10px; cursor: pointer; display: flex; align-items: center; gap: 5px; }
        .copy-success { background: var(--neon-cyan); color: black; }
        #messageBox { margin-top: 20px; display: none; padding: 10px; border: 1px solid var(--neon-cyan); text-align: center; }
    </style>
</head>
<body>
    <div class="stars-container" id="starField"></div>
    <div class="cyber-planet-container"><div class="cyber-planet"></div></div>
    <div class="container">
        <h2>SYSTEM_DRIVE</h2>
        <div class="input-group">
            <input type="text" id="driveLink" placeholder="Google Drive Link...">
            <button onclick="startPlayer()">[RUN]</button>
        </div>
        <div id="messageBox"></div>
        <div id="playerArea">
            <div class="copy-btn" onclick="copyLink(this)"><span>COPY LINK</span></div>
            <video id="vidHTML5" controls playsinline controlsList="nodownload"></video>
            <iframe id="vidIframe" style="display:none;" allow="autoplay; fullscreen"></iframe>
        </div>
    </div>
    <script>
        const starField=document.getElementById('starField');for(let i=0;i<100;i++){const s=document.createElement('div');s.className='star';s.style.left=Math.random()*100+'%';s.style.top=Math.random()*100+'%';const z=Math.random()*3+'px';s.style.width=z;s.style.height=z;s.style.setProperty('--duration',(Math.random()*3+2)+'s');s.style.animationDelay=(Math.random()*5)+'s';starField.appendChild(s)}
        
        const API_KEY = "AIzaSyBkhD7NJwQagQlSDSjbWJfiDzuXCU9T_wI";
        let currentDirectLink = "";

        function extractId(url) { const m = url.match(/(?:\/d\/|id=)([-a-zA-Z0-9_]+)/); return m ? m[1] : null; }
        function showMessage(t) { const b = document.getElementById('messageBox'); b.innerHTML = t; b.style.display = 'block'; }

        function startPlayer() {
            const u = document.getElementById('driveLink').value, p = document.getElementById('playerArea'), v = document.getElementById('vidHTML5'), i = document.getElementById('vidIframe'), m = document.getElementById('messageBox');
            m.style.display='none'; p.style.display='none'; v.style.display='none'; i.style.display='none'; v.pause(); v.removeAttribute('src');
            const id = extractId(u);
            if (!id) { showMessage("INVALID ID"); return; }
            showMessage("PROCESSING...");
            currentDirectLink = `https://www.googleapis.com/drive/v3/files/${id}?alt=media&key=${API_KEY}`;
            p.style.display='block'; v.style.display='block'; v.src=currentDirectLink;
            v.play().then(()=>m.style.display='none').catch(()=>{});
            v.onerror = function() { v.style.display='none'; i.src=`https://drive.google.com/file/d/${id}/preview`; i.style.display='block'; showMessage("COMPATIBILITY MODE ACTIVE"); };
        }

        function copyLink(e) { if(!currentDirectLink)return; navigator.clipboard.writeText(currentDirectLink).then(()=>{ const s=e.querySelector('span'),o=s.innerText; s.innerText="COPIED"; e.classList.add('copy-success'); setTimeout(()=>{s.innerText=o;e.classList.remove('copy-success')},2000); }); }
    </script>
</body>
</html>